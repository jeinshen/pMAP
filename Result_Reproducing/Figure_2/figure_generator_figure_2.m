function figure_generator_figure_2(infos_result)
%% Method to plot Figure 2 using generated kpi data (infos_result)

fprintf('\n-------------------------------------------------');
fprintf('\n Step 4/4: generate and save figures for Figure 2');

infos_w1 = infos_result{1};
infos_w2 = infos_result{2};

figure_font_size = 24;

f = figure('visible','off');
sigmahist_w1 = infos_w1.sigmahist;
it_w1 = infos_w1.it - 1;
T_w1 = (1 : it_w1 - 1)';
S_w1 = line(T_w1, log(sigmahist_w1(2:it_w1, 1))); 
hold on

sigmahist_w2 = infos_w2.sigmahist;
it_w2 = infos_w2.it - 1;
T_w2 = (1 : it_w2 - 1)';
S_w2 = line(T_w2, log(sigmahist_w2(2:it_w2, 1))); 

set(S_w1, ...                        
    'LineStyle',    '-'   , ...
    'LineWidth',    1.5,  ...
    'color'    ,  [0 0 1],  ...
    'Marker'   , 's'      , ...
    'MarkerSize'  , 7 , ...
    'MarkerEdgeColor', [0 0 1], ...
    'MarkerFaceColor', [0 1 0]);

set(S_w2, ...                        
    'LineStyle',    '-.'   , ...
    'LineWidth',    1.5,  ...
    'color'    ,  [1 0 0],  ...
    'Marker'   , 'v'      , ...
    'MarkerSize'  , 7 , ...
    'MarkerEdgeColor', [1 0 1], ...
    'MarkerFaceColor', [1 0 1]);

set(gca,'FontSize',figure_font_size);
set(gca,'XTick',0:10:200);
title('n = 2000, r = 20, \theta = 0.2');
ylabel('$log_(\frac{\sigma_{r+1}}{\sigma_r})$', 'Interpreter', 'latex');
xlabel('Iteration Steps');
set(gcf,'Position',[100 100 800 600]);
SLegend = legend( ...
    [S_w1, S_w2], ...
    '$W = W_1$','$W = W_2$', ...
    'location', 'Best');
set(SLegend,'Interpreter','latex','FontSize', figure_font_size);

saveas(f,'Output/Fig_2(a).eps','epsc')

infos_w1 = infos_result{3};
infos_w2 = infos_result{4};

f = figure('visible','off');
sigmahist_w1 = infos_w1.sigmahist;
T_w1 = (1 : it_w1)';
S_w1 = line(T_w1, log(sigmahist_w1(1:it_w1, 1))); 
hold on

sigmahist_w2 = infos_w2.sigmahist;
T_w2 = (1 : it_w2)';
S_w2 = line(T_w2, log(sigmahist_w2(1:it_w2, 1))); 
hold on

set(S_w1, ...                        
    'LineStyle',    '-'   , ...
    'LineWidth',    1.5,  ...
    'color'    ,  [0 0 1],  ...
    'Marker'   , 's'      , ...
    'MarkerSize'  , 7 , ...
    'MarkerEdgeColor', [0 0 1], ...
    'MarkerFaceColor', [0 1 0]);

set(S_w2, ...                        
    'LineStyle',    '-.'   , ...
    'LineWidth',    1.5,  ...
    'color'    ,  [1 0 0],  ...
    'Marker'   , 'v'      , ...
    'MarkerSize'  , 7 , ...
    'MarkerEdgeColor', [1 0 1], ...
    'MarkerFaceColor', [1 0 1]);


set(gca,'FontSize',figure_font_size);
set(gca,'XTick',0:5:200);
ylabel('$log(\frac{\sigma_{r+1}}{\sigma_r})$', 'Interpreter', 'latex');
xlabel('Iteration Steps');
title('n = 2000, r = 20, \theta = 0.2');
set(gcf,'Position',[100 100 800 600]);
SLegend = legend( ...
    [S_w1, S_w2], ...
    '$ W = W_1 $', '$W = W_2$', ...
    'location', 'Best');
set(SLegend,'Interpreter','latex','FontSize', figure_font_size);

saveas(f,'Output/Fig_2(b).eps','epsc')
fprintf('\n-------------------------------------------------');
fprintf('\n Figure 2 succesfully generated. Please find the Fig_2(a).eps and Fig_2(b).eps in Output folder');
fprintf('\n-------------------------------------------------\n');
end

